import React from 'react';
import { Repo } from '../store/reposSlice';
import styles from '../styles/RepoCard.module.css'

interface RepoCardProps {
  repo: Repo;
}

export const RepoCard: React.FC<RepoCardProps> = ({ repo }) => {

    const options: Intl.DateTimeFormatOptions = {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
      };
    const formattedDate = new Date(repo.updated_at)
        .toLocaleDateString('ru-RU', options)

    return (
        <div className={styles['card']}>
            <div className={styles['name']}>{repo.name}</div>
            <div className={styles['description']}>{repo.description}</div>
            <div className={styles['link']}>
                <a href={repo.html_url} target="_blank" rel="noopener noreferrer">
                {repo.html_url}
                </a>
            </div>
            <div className={styles['stars']}>
                <span><svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.26555 0.25C8.40556 0.24991 8.5428 0.289014 8.66174 0.362887C8.78068 0.43676 8.87657 0.542452 8.93855 0.668L10.8205 4.483L15.0305 5.095C15.169 5.11511 15.2991 5.17355 15.4061 5.26372C15.5131 5.35388 15.5927 5.47218 15.636 5.60523C15.6792 5.73829 15.6844 5.8808 15.651 6.01665C15.6175 6.1525 15.5467 6.27628 15.4465 6.374L12.4005 9.344L13.1195 13.536C13.1429 13.6738 13.1272 13.8154 13.0744 13.9449C13.0216 14.0743 12.9338 14.1865 12.8207 14.2687C12.7076 14.3509 12.5738 14.3999 12.4344 14.4102C12.295 14.4205 12.1555 14.3917 12.0315 14.327L8.26555 12.347L4.49955 14.327C4.37573 14.392 4.23621 14.4211 4.09674 14.411C3.95726 14.4009 3.82338 14.352 3.71023 14.2699C3.59707 14.1877 3.50914 14.0755 3.45636 13.946C3.40358 13.8165 3.38806 13.6749 3.41155 13.537L4.13155 9.343L1.08355 6.374C0.983112 6.27632 0.912045 6.15247 0.878397 6.01647C0.84475 5.88047 0.849867 5.73777 0.89317 5.60453C0.936472 5.47129 1.01623 5.35284 1.1234 5.26261C1.23057 5.17238 1.36088 5.11397 1.49955 5.094L5.70955 4.483L7.59255 0.668C7.65452 0.542452 7.75041 0.43676 7.86935 0.362887C7.98829 0.289014 8.12553 0.24991 8.26555 0.25ZM8.26555 2.695L6.88055 5.5C6.82676 5.6089 6.74733 5.70311 6.64909 5.77453C6.55085 5.84595 6.43673 5.89244 6.31655 5.91L3.21955 6.36L5.45955 8.544C5.5467 8.62886 5.6119 8.73365 5.64953 8.84933C5.68716 8.96501 5.69609 9.0881 5.67555 9.208L5.14755 12.292L7.91655 10.836C8.02418 10.7794 8.14395 10.7499 8.26555 10.7499C8.38714 10.7499 8.50692 10.7794 8.61455 10.836L11.3845 12.292L10.8545 9.208C10.834 9.0881 10.8429 8.96501 10.8806 8.84933C10.9182 8.73365 10.9834 8.62886 11.0705 8.544L13.3105 6.361L10.2145 5.911C10.0944 5.89344 9.98024 5.84695 9.882 5.77553C9.78376 5.70411 9.70433 5.6099 9.65055 5.501L8.26555 2.695Z" fill="#8B949E" />
                </svg> {repo.stargazers_count}</span>
            </div>
            <div className={styles['update']}> 
                <span>Updated on: {formattedDate}</span>
            </div>
        </div>
    );
};

